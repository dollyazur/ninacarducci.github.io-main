function processDirectory(r,e){fs.existsSync(e)||fs.mkdirSync(e,{recursive:!0}),fs.readdirSync(r).forEach(t=>{const p=path.join(r,t),o=path.join(e,t);fs.statSync(p).isDirectory()?processDirectory(p,o):/\.(jpg|jpeg|png)$/i.test(t)&&sharp(p).toFormat("webp").toFile(o.replace(/\.(jpg|jpeg|png)$/i,".webp")).then(()=>console.log(`OptimisÃ© : ${o.replace(/\.(jpg|jpeg|png)$/i,".webp")}`)).catch(r=>console.error(`Erreur avec ${p}:`,r))})}const sharp=require("sharp"),fs=require("fs"),path=require("path"),inputDirectory="./images",outputDirectory="./output";processDirectory(inputDirectory,outputDirectory);